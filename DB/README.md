# 索引
# 事务

- 什么是事务

    一系列的数据库命令，这些命令要么全部执行，要么全部不执行。

<!-- - 为什么会有事务 -->

- 事务的四个性质

    - 原子性
    - 一致性
    - 隔离性
    两个事务在执行过程中互不打扰
    - 持久性

- 多个事务并发执行会出现什么问题

    - 脏读
    <!-- 一个事务在执行的时候对数据进行了修改，在这个事务没有提交的时候，另一个事务读到了该数据，由于第一个事务发生了错误，发生了回滚，此时第二个事务读到的就是脏数据。 -->
    一个事务读到了另一个未提交事务修改过的数据
    - 不可重复读
    一个事务多次读取同一个事物，出现前后读取到的数据不一致的情况
    - 幻读


- 事务的四个隔离级别

    - 读未提交
    都可能发生
    - 读提交
    避免脏读
    - 可重复读
    避免不可重复读
    - 串行化
    都避免

- 如何实现读提交和可重复读？

    - MVCC 多并发版本控制
    通过readview和undo日志去实现
    
    - 读提交 每执行一条命令就生成一个readview
    - 可重复读 开始一个事务....
# 锁
# 日志
